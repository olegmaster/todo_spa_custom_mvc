(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d74b7"],{"75cf":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h2",[t._v("Todo Application")]),o("router-link",{attrs:{to:"/login"}},[t._v("login")]),o("hr"),o("TodoList")],1)},s=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h2",[t._v("Todos")]),t.error?o("div",{staticClass:"alert alert-secondary",attrs:{role:"alert"}},[t._v(" "+t._s(t.error)+" ")]):t._e(),o("form",{staticClass:"mb-3",on:{submit:function(e){return e.preventDefault(),t.addTodo(e)}}},[o("div",{staticClass:"form-group mb-4"},[o("label",{attrs:{for:"todo-username"}},[t._v("Username")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.username,expression:"todo.username"}],staticClass:"form-control",attrs:{type:"text",id:"todo-username",placeholder:"Title"},domProps:{value:t.todo.username},on:{input:function(e){e.target.composing||t.$set(t.todo,"username",e.target.value)}}}),o("small",{staticClass:"form-text text-muted",attrs:{id:"form-control"}},[t._v("Enter your username")])]),o("div",{staticClass:"form-group mb-4"},[o("label",{attrs:{for:"todo-email"}},[t._v("Email")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.email,expression:"todo.email"}],staticClass:"form-control",attrs:{type:"email",id:"todo-email",placeholder:"Title"},domProps:{value:t.todo.email},on:{input:function(e){e.target.composing||t.$set(t.todo,"email",e.target.value)}}}),o("small",{staticClass:"form-text text-muted",attrs:{id:"control2"}},[t._v("Enter email")])]),o("div",{staticClass:"form-group mb-4"},[o("label",{attrs:{for:"todo-text"}},[t._v("Todo Text")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.todo.text,expression:"todo.text"}],staticClass:"form-control",attrs:{id:"todo-text",placeholder:"Text"},domProps:{value:t.todo.text},on:{input:function(e){e.target.composing||t.$set(t.todo,"text",e.target.value)}}})]),o("div",{staticClass:"form-group mb-4"},[o("label",{attrs:{for:"todo-completed"}},[t._v("Is completed")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.is_completed,expression:"todo.is_completed"}],staticClass:"form-control",attrs:{type:"checkbox",id:"todo-completed"},domProps:{checked:Array.isArray(t.todo.is_completed)?t._i(t.todo.is_completed,null)>-1:t.todo.is_completed},on:{change:function(e){var o=t.todo.is_completed,a=e.target,s=!!a.checked;if(Array.isArray(o)){var r=null,i=t._i(o,r);a.checked?i<0&&t.$set(t.todo,"is_completed",o.concat([r])):i>-1&&t.$set(t.todo,"is_completed",o.slice(0,i).concat(o.slice(i+1)))}else t.$set(t.todo,"is_completed",s)}}}),o("small",{staticClass:"form-text text-muted",attrs:{id:"control3"}},[t._v("Is Completed")])]),o("button",{staticClass:"btn btn-light btn-block ",attrs:{type:"submit"}},[t._v("Save")])]),o("nav",{attrs:{"aria-label":"Page navigation example"}},[o("ul",{staticClass:"pagination"},[o("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[o("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return t.fetchTodos(t.pagination.prev_page_url)}}},[t._v("Previous")])]),o("li",{staticClass:"page-item disabled"},[o("a",{staticClass:"page-link text-dark",attrs:{href:"#"}},[t._v("Page "+t._s(t.pagination.current_page)+" of "+t._s(t.pagination.last_page))])]),o("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[o("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return t.fetchTodos(t.pagination.next_page_url)}}},[t._v("Next")])])])]),t._l(t.todos,(function(e){return o("div",{key:e.id,staticClass:"card card-body mb-2"},[o("h3",[t._v(t._s(e.username))]),o("p",[t._v(t._s(e.email))]),o("p",[t._v(t._s(e.text))]),o("hr"),o("button",{staticClass:"btn btn-warning",on:{click:function(o){return t.editTodo(e)}}},[t._v("Edit")])])}))],2)},i=[],n=(o("d3b7"),{data:function(){return{todos:[],todo:{id:"",username:"",email:"",text:"",is_completed:""},pagination:{},edit:!1,error:""}},created:function(){this.fetchTodos()},methods:{fetchTodos:function(t){var e=this,o=this;t=t||"/?get_tasks",fetch(t).then((function(t){return t.json()})).then((function(t){e.todos=t.data,o.makePagination(t.meta,t.links)}))["catch"]((function(t){return e.error=t}))},makePagination:function(t,e){var o={current_page:t.current_page,last_page:t.last_page,next_page_url:e.next,prev_page_url:e.prev};this.pagination=o},addTodo:function(){var t=this;!1===this.edit?fetch("?add_task",{method:"post",body:JSON.stringify(this.todo),headers:{"content-type":"application/json"}}).then((function(t){return t.json()})).then((function(e){e.error?t.error=e.error:(t.error="",t.todo.username="",t.todo.email="",t.todo.text="",t.todo.is_completed=0,alert("Todo Added"),t.fetchTodos())}))["catch"]((function(e){return t.error=e})):fetch("?update_task",{method:"post",body:JSON.stringify(this.todo),headers:{"content-type":"application/json"}}).then((function(t){return t.json()})).then((function(e){e.error?t.error=e.error:(t.error="",t.todo.username="",t.todo.email="",t.todo.text="",t.todo.is_completed=0,alert("Todo Updated"),t.fetchTodos())}))["catch"]((function(e){return t.error=e}))},editTodo:function(t){this.edit=!0,this.todo.id=t.id,this.todo.username=t.username,this.todo.email=t.email,this.todo.text=t.text,this.todo.is_completed=t.is_completed}}}),d=n,l=o("2877"),c=Object(l["a"])(d,r,i,!1,null,null,null),m=c.exports,u={name:"app",components:{TodoList:m}},p=u,_=Object(l["a"])(p,a,s,!1,null,null,null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d0d74b7.26b5cc09.js.map